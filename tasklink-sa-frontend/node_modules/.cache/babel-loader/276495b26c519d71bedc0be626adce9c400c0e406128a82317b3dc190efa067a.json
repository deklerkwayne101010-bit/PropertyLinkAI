{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState={user:null,token:null,isAuthenticated:false,loading:false,error:null};const authSlice=createSlice({name:'auth',initialState,reducers:{loginStart:state=>{state.loading=true;state.error=null;},loginSuccess:(state,action)=>{state.user=action.payload.user;state.token=action.payload.token;state.isAuthenticated=true;state.loading=false;state.error=null;},loginFailure:(state,action)=>{state.loading=false;state.error=action.payload;},logout:state=>{state.user=null;state.token=null;state.isAuthenticated=false;state.loading=false;state.error=null;},registerStart:state=>{state.loading=true;state.error=null;},registerSuccess:(state,action)=>{state.user=action.payload.user;state.token=action.payload.token;state.isAuthenticated=true;state.loading=false;state.error=null;},registerFailure:(state,action)=>{state.loading=false;state.error=action.payload;}}});export const{loginStart,loginSuccess,loginFailure,logout,registerStart,registerSuccess,registerFailure}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","user","token","isAuthenticated","loading","error","authSlice","name","reducers","loginStart","state","loginSuccess","action","payload","loginFailure","logout","registerStart","registerSuccess","registerFailure","actions","reducer"],"sources":["c:/Users/owner/OneDrive - Process Steel/Documents/GitHub/bolt.diy/tasklink-sa-frontend/src/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n  role: 'task_poster' | 'task_doer';\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  token: string | null;\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  token: null,\r\n  isAuthenticated: false,\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    loginStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    loginSuccess: (state, action: PayloadAction<{ user: User; token: string }>) => {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isAuthenticated = true;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    loginFailure: (state, action: PayloadAction<string>) => {\r\n      state.loading = false;\r\n      state.error = action.payload;\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n      state.token = null;\r\n      state.isAuthenticated = false;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    registerStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    registerSuccess: (state, action: PayloadAction<{ user: User; token: string }>) => {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isAuthenticated = true;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    registerFailure: (state, action: PayloadAction<string>) => {\r\n      state.loading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  loginStart,\r\n  loginSuccess,\r\n  loginFailure,\r\n  logout,\r\n  registerStart,\r\n  registerSuccess,\r\n  registerFailure,\r\n} = authSlice.actions;\r\n\r\nexport default authSlice.reducer;"],"mappings":"AAAA,OAASA,WAAW,KAAuB,kBAAkB,CAiB7D,KAAM,CAAAC,YAAuB,CAAG,CAC9BC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IAAI,CACXC,eAAe,CAAE,KAAK,CACtBC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGP,WAAW,CAAC,CAC5BQ,IAAI,CAAE,MAAM,CACZP,YAAY,CACZQ,QAAQ,CAAE,CACRC,UAAU,CAAGC,KAAK,EAAK,CACrBA,KAAK,CAACN,OAAO,CAAG,IAAI,CACpBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDM,YAAY,CAAEA,CAACD,KAAK,CAAEE,MAAoD,GAAK,CAC7EF,KAAK,CAACT,IAAI,CAAGW,MAAM,CAACC,OAAO,CAACZ,IAAI,CAChCS,KAAK,CAACR,KAAK,CAAGU,MAAM,CAACC,OAAO,CAACX,KAAK,CAClCQ,KAAK,CAACP,eAAe,CAAG,IAAI,CAC5BO,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDS,YAAY,CAAEA,CAACJ,KAAK,CAAEE,MAA6B,GAAK,CACtDF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAGO,MAAM,CAACC,OAAO,CAC9B,CAAC,CACDE,MAAM,CAAGL,KAAK,EAAK,CACjBA,KAAK,CAACT,IAAI,CAAG,IAAI,CACjBS,KAAK,CAACR,KAAK,CAAG,IAAI,CAClBQ,KAAK,CAACP,eAAe,CAAG,KAAK,CAC7BO,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDW,aAAa,CAAGN,KAAK,EAAK,CACxBA,KAAK,CAACN,OAAO,CAAG,IAAI,CACpBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDY,eAAe,CAAEA,CAACP,KAAK,CAAEE,MAAoD,GAAK,CAChFF,KAAK,CAACT,IAAI,CAAGW,MAAM,CAACC,OAAO,CAACZ,IAAI,CAChCS,KAAK,CAACR,KAAK,CAAGU,MAAM,CAACC,OAAO,CAACX,KAAK,CAClCQ,KAAK,CAACP,eAAe,CAAG,IAAI,CAC5BO,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDa,eAAe,CAAEA,CAACR,KAAK,CAAEE,MAA6B,GAAK,CACzDF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAGO,MAAM,CAACC,OAAO,CAC9B,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CACXJ,UAAU,CACVE,YAAY,CACZG,YAAY,CACZC,MAAM,CACNC,aAAa,CACbC,eAAe,CACfC,eACF,CAAC,CAAGZ,SAAS,CAACa,OAAO,CAErB,cAAe,CAAAb,SAAS,CAACc,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}